<!--profile code here-->

<div class="modal-header">
  <h4 class="modal-title pull-left">Profile</h4>
  <button
    type="button"
    class="close pull-right"
    aria-label="Close"
    (click)="activeModal.dismiss()"
  >
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body">
  <div class="col-sm-4 col-xs-12">
    <div *ngIf="profileInfo?.Address" class="form-group">
      <img
        [src]="profileInfo.imageUrl"
        class="img-responsive img-fix img-circle"
      />
    </div>
  </div>
  <div class="col-sm-8 col-xs-12">
    <div class="form-group" *ngIf="profileInfo?.Address">
      <h3>{{ profileInfo.Name }}</h3>
      <p>{{ profileInfo.Address.Address }}</p>
      <p>{{ profileInfo.Address.Address2 }}</p>
      <p>{{ profileInfo.Address.Address3 }}</p>
      <p>{{ profileInfo.Address.City }}</p>
      <p>{{ profileInfo.Address.PostCode }}</p>
      <p>{{ profileInfo.Address.State }}</p>
      <p>{{ profileInfo.Address.Country.Name }}</p>

      <p>Email: {{ profileInfo.Email }}</p>
      <p>Telephone: {{ profileInfo.Telephone }}</p>
    </div>

    <div>
      <div class="form-group"><label for="contactNumber">Profile</label></div>

      <div class="form-group">
        <label for="driverName">Password</label>
        <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
          <div
            class="form-group"
            [ngClass]="{
              'has-error':
                profileForm.controls.currentPassord.invalid &&
                (profileForm.controls.currentPassord.touched || submitted)
            }"
          >
            <input
              type="password"
              formControlName="currentPassord"
              class="form-control"
            />
            <span
              class="help-block"
              *ngIf="
                profileForm.controls.currentPassord.invalid &&
                (profileForm.controls.currentPassord.touched || submitted)
              "
            >
              required
            </span>
          </div>
          <div formGroupName="comparePassword">
            <div
              class="form-group"
              [ngClass]="{
                'has-error':
                  profileForm.controls.comparePassword.controls.newPassword
                    .invalid &&
                  (profileForm.controls.comparePassword.controls.newPassword
                    .touched ||
                    submitted)
              }"
            >
              <input
                type="password"
                formControlName="newPassword"
                class="form-control"
              />
              <span
                class="help-block"
                *ngIf="
                  profileForm.controls.comparePassword.controls.newPassword
                    .errors?.required &&
                  (profileForm.controls.comparePassword.controls.newPassword
                    .touched ||
                    submitted)
                "
              >
                required
              </span>
              <span
                class="help-block"
                *ngIf="
                  profileForm.controls.comparePassword.controls.newPassword
                    .errors?.minlength &&
                  (profileForm.controls.comparePassword.controls.newPassword
                    .touched ||
                    submitted)
                "
              >
                minimum length 8.
              </span>
            </div>
            <div
              class="form-group"
              [ngClass]="{
                'has-error':
                  (profileForm.controls.comparePassword.controls.confirmPassword
                    .invalid ||
                    profileForm.controls.comparePassword.errors
                      ?.passwordMismatch) &&
                  (profileForm.controls.comparePassword.controls.confirmPassword
                    .touched ||
                    submitted)
              }"
            >
              <input
                type="password"
                formControlName="confirmPassword"
                class="form-control"
              />
              <span
                class="help-block"
                *ngIf="
                  profileForm.controls.comparePassword.controls.confirmPassword.invalid &&
                  (profileForm.controls.comparePassword.controls.confirmPassword.touched ||  submitted) ">
                required
              </span>
              <span
                class="help-block"
                *ngIf="
                  profileForm.controls.comparePassword.errors?.passwordMismatch">
                password mismatch
              </span>
            </div>
          </div>
          <div>
            <div class="form-group btn-toolbar">
              <button
                type="button"
                class="btn btn-md btn-default form-group pull-left"
                (click)="activeModal.dismiss()"
              >
                Cancel
              </button>
              <button
                type="submit"
                (click)="submitted = true"
                class="btn btn-md btn-success form-group pull-right"
              >
                Save
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="clearfix"></div>
</div>
<div class="modal-footer"></div>
<!--end-->
